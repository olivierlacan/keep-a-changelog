<html>
<head>
<title>Ведите Changelog</title>
<link rel="stylesheet" href="assets/stylesheets/normalize.css" media="screen" charset="utf-8">
<link rel="stylesheet" href="assets/stylesheets/style.css" media="screen" charset="utf-8">
<style type="text/css">
h3{font-family:arial,sans-serif;}
article code{padding-top:0.4em;}
</style>
<script type="text/javascript" src="//use.typekit.net/tng8liq.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>
<article>
<h1 id="keep-a-changelog">
<a name="keep-a-changelog" class="anchor" href="#keep-a-changelog"></a>
Ведите CHANGELOG
</h1>
<h2 id="don-t-let-your-friends-dump-git-logs-into-changelogs-">
<a name="don-t-let-your-friends-dump-git-logs-into-changelogs-" class="anchor" href="#don-t-let-your-friends-dump-git-logs-into-changelogs-"></a>
Не позволяйте друзьям сливать логи гита в CHANGELOG™
</h2>
<h3 id="what-s-a-change-log-">
<a name="what-s-a-change-log-" class="anchor" href="#what-s-a-change-log-"></a>
Что такое лог изменений?
</h3>
<p>Лог изменений – это файл, который содержит поддерживаемый, упорядоченный в хронологическом порядке список значимых изменений для каждой версии проекта с открытым исходным кодом.</p>

<p><a href="CHANGELOG.md" title="An example of a CHANGELOG file."><iframe src="CHANGELOG.md" width="570" height="350" seamless="seamless" style="border: 1px solid #aaa; padding: 1em; margin: 0 0.5em;"></iframe></a></p>
<h3 id="what-s-the-point-of-a-change-log-">
<a name="what-s-the-point-of-a-change-log-" class="anchor" href="#what-s-the-point-of-a-change-log-"></a>
Для чего нужен лог изменений?
</h3>
<p>Чтобы пользователи и контрибьюторы могли с меньшими усилиями точно определить,
какие значимые изменения были сделаны в каждом релизе (или версии) проекта.</p>
<h3 id="why-should-i-care-">
<a name="why-should-i-care-" class="anchor" href="#why-should-i-care-"></a>
Почему я вообще должен думать об этом?
</h3>

<p>Потому, что инструменты программирования делаются для людей. Если вам пофигу, зачем вы
  вообще занимаетесь программным обеспечением с открытым исходным кодом? У вас обязательно в голове должен быть центр «не пофигу» :)</p>
<p>Я <a href="http://5by5.tv/changelog/127">беседовал с Адамом Стаковиаком и с Джеродом Санто в подкасте The Changelog</a>
(в тему название, правда?) о том почему авторам программного обеспечения с открытым исходным кодом и
их коллегам должно быть не пофигу, и о моих мотивах в создании этого проекта.
Послушайте, если у вас есть время (1:06).</p>

<h3 id="what-makes-a-good-change-log-">
<a name="what-makes-a-good-change-log-" class="anchor" href="#what-makes-a-good-change-log-"></a>
Что должно быть в хорошем логе изменений?
</h3>
<p>Я рад, что вы спросили.</p>
<p>Хороший лог изменений придерживается этих приниципов:</p>
<ul>
<li>Он сделан для людей, а не машин, так что понятность имеет решающее значение.</li>
<li>Легко сослаться на любой раздел (поэтому Markdown лучше обычного текста).</li>
<li>Один подраздел на каждую версию.</li>
<li>Релизы перечислены в обратном хронологическом порядке (самые новые – сверху).</li>
<li>Пишите все даты в формате <code>YYYY-MM-DD</code>. (Например: <code>2012-06-02</code> для даты <code>2 июня 2012</code>.) Он международный, <a href="http://xkcd.com/1179/">рациональный</a>, и независим от языка.</li>
<li>Ясно указывает, использует ли проект <a href="http://semver.org">Семантическое Версионирование</a>.</li>
<li>Каждая версия должна:
<ul>
<li>Показывать дату релиза в формате, упомянутом выше.</li>
<li>Группировать изменения согласно их влиянию на проект следующим образом:</li>
<li><code>Added</code> для новых функций.</li>
<li><code>Changed</code> для изменений в существующей функциональности.</li>
<li><code>Deprecated</code> для функциональности, которая будет удалена в следующих версиях.</li>
<li><code>Removed</code> для функциональности, которая удалена в этой версии.</li>
<li><code>Fixed</code> для любых исправлений.</li>
<li><code>Security</code> для обновлений безопасности.</li>
</ul></li>
</ul>
<h3 id="how-can-i-minimize-the-effort-required-">
<a name="how-can-i-minimize-the-effort-required-" class="anchor" href="#how-can-i-minimize-the-effort-required-"></a>
Как минимизировать время, необходимое для ведения лога изменений?
</h3>
<p>Всегда ведите секцию <code>Unreleased</code> в начале файла, чтобы держать в ней
не выпущенные изменения.</p>
<p>Это нужно для двух вещей:</p>
<ul>
<li>Люди смогут видеть, какие изменения ожидаются в ближайших релизах</li>
<li>В момент релиза вам нужно всего лишь заменить секцию <code>Unreleased</code>
на номер версии и добавить новую секцию <code>Unreleased</code> в начале файла.</li>
</ul>
<h3 id="what-makes-unicorns-cry-">
<a name="what-makes-unicorns-cry-" class="anchor" href="#what-makes-unicorns-cry-"></a>
Что заставляет плакать единорогов?
</h3>
<p>Хорошо… давайте разберёмся.</p>
<ul>
<li><strong>Выгрузка изменений лога коммитов.</strong> Просто не делайте так, это никому не принесёт пользы.</li>
<li><strong>Отсутствие отметок планируемой к удалению функциональности.</strong> Когда люди
  обновляются от одной версии к другой, им должно быть очевидно до боли, что сломается.</li>
<li><strong>Даты в местном формате.</strong> В Соединённых Штатах, люди сначала пишут месяц
(«06-02-2012» для даты 2 июня 2012, что не имеет <em>никакого</em> смысла), хотя много людей
в остальном мире пишет роботоподобное «2 июня 2012», всё ещё произнося это по-другому. «2012-06-02» логично работает от самого большого к самому маленькому, не пересекается с другими
форматами дат, и является
<a href="http://www.iso.org/iso/home/standards/iso8601.htm">стандартом ISO</a>. Таким образом, этот формат является рекомендуемым для логов изменений.</li>
</ul>
<p>Существуют и другие. Помогите мне собрать слёзы единорогов,
<a href="https://github.com/olivierlacan/keep-a-changelog/issues">открыв тикет</a>
или пулл-реквест.</p>
<h3 id="is-there-a-standard-change-log-format-">
<a name="is-there-a-standard-change-log-format-" class="anchor" href="#is-there-a-standard-change-log-format-"></a>
Существует стандарт формата лога изменений?
</h3>
<p>К сожалению, нет. Спокойней. Я знаю, что вы яростно бросились на поиски ссылки
на GNU-руководства по стилю лога изменений, или на поиски файла «guideline» с парой параграфов в GNU NEWS. GNU-руководство по стилю неплохо для начала, но оно наивно.
В наивности нет ничего плохого, но когда людям нужно руководство, она редко бывает полезна.
Особенно, когда приходиться сталкиваться со множеством краевых случаев.</p>
<p>Этот проект <a href="./CHANGELOG.md">содержит информацию, которая, я надеюсь, станет соглашением получше о ведении файлов CHANGELOG</a> для всех проектов с открытым исходным кодом. Может ли
сообщество учиться на своих ошибках, а не просто действовать согласно десяти записям, которые были написаны много лет назал, и, якобы, без одной ошибки? Хорошо. Поэтому, пожалуйста, посмотрите вокруг,
и помните, что <a href="https://github.com/olivierlacan/keep-a-changelog/issues">обсуждения и предложения по улучшению приветствуются</a>!</p>
<h3 id="what-should-the-change-log-file-be-named-">
<a name="what-should-the-change-log-file-be-named-" class="anchor" href="#what-should-the-change-log-file-be-named-"></a>
Как можно назвать файл лога изменений?
</h3>
<p>Ну, если вы не не можете ответить на этот вопрос, глядя на пример выше, <code>CHANGELOG.md</code> пока наилучший вариант.</p>
<p>Некоторые проекты используют <code>HISTORY.txt</code>, <code>HISTORY.md</code>, <code>History.md</code>, <code>NEWS.txt</code>,
<code>NEWS.md</code>, <code>News.txt</code>, <code>RELEASES.txt</code>, <code>RELEASE.md</code>, <code>releases.md</code>, и так далее.</p>
<p>Это непорядок. Все эти имена только усложняют поиск нужного файла.</p>
<h3 id="why-can-t-people-just-use-a-code-git-log-code-diff-">
<a name="why-can-t-people-just-use-a-code-git-log-code-diff-" class="anchor" href="#why-can-t-people-just-use-a-code-git-log-code-diff-"></a>
Почему люди не могут использовать просто дифф команды <code>git log</code>?
</h3>
<p>Потому, что диффы логов по своей природе содержат слишком много «шума». С их помощью
  невозможно сделать подходящий лог изменений даже в гипотетическом проекте,
  который делается идеальными программистами, которые никогда не делают опечаток,
  никогда не забывают коммитить новые файлы, никогда не пропускают ни одну часть рефакторинга.
Назначение коммита в том, чтобы задокументировать один атомарный шаг в процессе развития кода
от одного состояния к другому. Назначение лога изменений – документировать значимые различия между
этими состояниями.</p>
<p>Как отличаются хорошие комментарии к коду и сам код,
также отличаются друг от друга и лог изменений с логом коммитов:
первые отвечают на вопрос <em>почему</em>, а вторые на вопрос как.</p>
<h3 id="can-change-logs-be-automatically-parsed-">
<a name="can-change-logs-be-automatically-parsed-" class="anchor" href="#can-change-logs-be-automatically-parsed-"></a>
Могут ли логи изменений быть автоматически распарсены?
</h3>
<p>Это сложно из-за того, что люди следуют сильно отличающимся форматам и соглашениям о именах файлов.</p>
<p>Гем для Руби <a href="https://github.com/tech-angels/vandamme/">Vandamme</a>, который создали в команде <a href="http://gemnasium.com">Gemnasium</a>, парсит многие (но не все) логи изменений проектов с открытым исходным кодом.</p>
<h3 id="why-do-you-alternate-between-spelling-it-quot-changelog-quot-and-quot-change-log-quot-">
<a name="why-do-you-alternate-between-spelling-it-quot-changelog-quot-and-quot-change-log-quot-" class="anchor" href="#why-do-you-alternate-between-spelling-it-quot-changelog-quot-and-quot-change-log-quot-"></a>
Почему вы пишите то «CHANGELOG», то «лог изменений»?
</h3>
<p>«CHANGELOG» – это имя файла. Оно несколько крикливо, но это историческое соглашение,
  которому следуют многие проекты с открытым исходным кодом. В качестве примеров подобных файлов
  можно привести <a href="README.md"><code>README</code></a>, <a href="LICENSE"><code>LICENSE</code></a>,
и <a href="CONTRIBUTING.md"><code>CONTRIBUTING</code></a>.</p>
<p>Верхний регистр в имени файла (который в старых операционных системах заставляет эти файлы находиться наверху списков) используется для привлечения внимания. Так как в этих файлах содержится важная метаинформация о проекте, они могут быть полезны любому использующему или дорабатывющему проект, также как <a href="http://shields.io">бейджи проектов с открытым исходным кодом</a>.</p>
<p>Когда я упоминаю «лог изменений», я говорою о назначении этого файла: об учёте изменений.</p>
<h3 id="what-about-yanked-releases-">
<a name="what-about-yanked-releases-" class="anchor" href="#what-about-yanked-releases-"></a>
Как насчёт yanked-релизов?
</h3>
<p>Yanked-релизы – это версии, которые изымаются из обращения из-за серьёзного бага или проблемы безопасности в них. Часто такие версии даже не упоминаются в логах изменений. А должны. И вот как вам следует их упоминать:</p>
<p><code>## 0.0.5 - 2014-12-13 [YANKED]</code></p>
<p>Тег <code>[YANKED]</code> такой «громкий» не просто так. Очень важно, чтобы люди его заметили. А из-за того, что он окружён скобками, его легче определить программно.</p>

<h3 id="should-you-ever-rewrite-a-change-log-">
<a name="should-you-ever-rewrite-a-change-log-" class="anchor" href="#should-you-ever-rewrite-a-change-log-"></a>
Стоит ли переписывать лог изменений?
</h3>

<p>Конечно. Всегда есть причины для улучшения лога изменений. Я регулярно открываю пулл-реквесты в проекты с открытым исходным кодом с неподдерживаемыми логами изменений для добавления недостающих релизов.</p>

<p>Также вы можете обнаружить что вы забыли адресовать критичное изменение в описании версии. В этом случае очевидно, что нужно обновить лог изменений.</p>

<h3 id="how-can-i-contribute-">
<a name="how-can-i-contribute-" class="anchor" href="#how-can-i-contribute-"></a>
Как я могу помочь?
</h3>
<p>Этот документ <strong>не истина в последней инстанции</strong>; это моё тщательно сформулированное мнение вместе с информацией и примерами, которые я собрал.
Хотя я предоставил настоящий <a href="./CHANGELOG.md">CHANGELOG</a> из <a href="https://github.com/olivierlacan/keep-a-changelog">GitHub-репозитария</a>,
я специально избегал цели создать <em>стандарт</em> или чёткий список правил (как это делает, например, <a href="http://semver.org">SemVer.org</a>).</p>
<p>Я сделал это потому, что хочу, чтобы наше сообщество достигло консенсуса. Я верю, что дискуссия также важна, как и её результат.</p>
<p>Так что, пожалуйста, <a href="https://github.com/olivierlacan/keep-a-changelog"><strong>участвуйте</strong></a>.</p>
<footer class="clearfix">
<p class="license">Этот проект лицензирован <a href="http://choosealicense.com/licenses/mit/">MIT-лицензией</a>.</p>
<p class="about" style="text-align: right;"><a href="https://github.com/olivierlacan/keep-a-changelog/">Набрано</a> с трепетом <a href="http://olivierlacan.com">Оливером Лаканом</a> из <a href="http://codeschool.com">Code School</a>.<br>Автор перевода – <a href="https://github.com/aishek">Александр Борисов</a>.</p>
</footer>
</article>
<script type="text/javascript">
var _gauges = _gauges || [];
(function() {
var t   = document.createElement('script');
t.type  = 'text/javascript';
t.async = true;
t.id    = 'gauges-tracker';
t.setAttribute('data-site-id', '5389808eeddd5b055a00440d');
t.src = '//secure.gaug.es/track.js';
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(t, s);
})();
</script>
</body>
</html>
